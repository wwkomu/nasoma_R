---
output:
  reprex::reprex_document:
    venue: "gh"
    advertise: FALSE
    session_info: TRUE
    style: TRUE
    comment: "#;-)"
    tidyverse_quiet: FALSE
    std_out_err: TRUE
knit: reprex::reprex_render
---

This template demonstrates many of the bells and whistles of the `reprex::reprex_document()` output format. The YAML sets many options to non-default values, such as using `#;-)` as the comment in front of output.

## Load libraries

```{r loads_libs}
library(tidyverse)
library(ggthemes)
library(janitor)
library(gifski)
library(gganimate)
library(ggplot2)
library(lubridate)
```

## Quiet tidyverse

Since the `tidyverse` pkg tends to be overly chatty, this is a queit way to call it!

```{r, eval = requireNamespace("tidyverse", quietly = TRUE)}
library(tidyverse)
```

## Load data

```{r}
owid_le <- read_csv("/home/iamlnx/Documents/GitHub/nasoma_R/global_life_exp/data/OWID/life-expectancy-OWID-data.csv") %>%
  rename(country = Entity, country_code = Code, year = Year, life_expectancy = "Life expectancy at birth (historical)") %>%
  mutate(year = as.numeric(as.character(year))) %>%
  select(year, country, life_expectancy)
```

## Kenya

```{r}
kenya_le <- owid_le %>%
  filter(country %in% c("Kenya", "China", "Singapore")) %>%
  select(year, country, life_expectancy)

kenya_le

kenya_le %>%
  ggplot(aes(year, life_expectancy,  color = country)) +
  geom_point() +
  geom_line(aes(color = country)) +
  scale_x_continuous(limits = c(1920, 2030), expand = c(0, 0))

ggsave("figures/kenya_le_owid.png")
```

##

The code chuck below helps us to preview the extreme ends of the data for the various countries of interest and the global_le as a whole!

```{r}

mutate(
    min_le = min(life_expectancy),
    max_le = max(life_expectancy),
    min_year = min(year),
    max_year = max(year)
  )
```

## kenya_le:
- min_year  = 1927
- max_year  = 2021
- min_le    = 23.9
- max_le    = 62.9
## global_le:
- min_year  = 1543
- max_year  = 2021
- min_le    = 12
- max_le    = 86.5
